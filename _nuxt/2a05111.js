(window.webpackJsonp=window.webpackJsonp||[]).push([[4,5],{524:function(e,t,n){var content=n(527);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(31).default)("4078b580",content,!0,{sourceMap:!1})},525:function(e,t,n){"use strict";n.r(t);var l=n(2),o=n(529),r=Object(l.d)({components:{},props:{dialog:{type:Boolean,required:!0}},emits:["update:dialog","apply"],setup:function(e,t){var n=t.emit,o=Object(l.j)({multiplier:1,lineWidth:2});return{dialog_:Object(l.a)({get:function(){return e.dialog},set:function(e){n("update:dialog",e)}}),config:o,isValid:Object(l.k)(!1),rules:{numberRequired:function(e){return"number"==typeof e||"Required"}}}},methods:{onClickApply:function(){this.dialog_=!1,this.$emit("apply",Object(o.a)(this.config))}}}),c=(n(526),n(80)),d=n(88),f=n.n(d),v=n(522),m=n(228),h=n(181),x=n(521),_=n(589),C=n(504),y=n(518),k=n(588),O=n(69),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:e.dialog_,callback:function(t){e.dialog_=t},expression:"dialog_"}},[n("v-card",[n("v-toolbar",{attrs:{flat:"",color:"primary headline",dark:""}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-cog")]),e._v("\n        Chart Config\n        "),n("v-spacer")],1),e._v(" "),n("v-card-text",{staticClass:"pa-3 text-center"},[n("v-form",{on:{submit:function(t){return t.preventDefault(),e.onClickApply.apply(null,arguments)}},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[n("v-text-field",{attrs:{type:"number",label:"Multiplier",step:"0.1",rules:[e.rules.numberRequired]},model:{value:e.config.multiplier,callback:function(t){e.$set(e.config,"multiplier",e._n(t))},expression:"config.multiplier"}}),e._v(" "),n("v-text-field",{attrs:{type:"number",label:"Line Width",step:"0.1",rules:[e.rules.numberRequired]},model:{value:e.config.lineWidth,callback:function(t){e.$set(e.config,"lineWidth",e._n(t))},expression:"config.lineWidth"}})],1)],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialog_=!1}}},[e._v("\n          CLOSE\n        ")]),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.isValid},on:{click:e.onClickApply}},[e._v("\n          APPLY\n        ")])],1)],1)],1)],1)}),[],!1,null,"e6f966dc",null);t.default=component.exports;f()(component,{VBtn:v.a,VCard:m.a,VCardActions:h.a,VCardText:h.b,VDialog:x.a,VForm:_.a,VIcon:C.a,VSpacer:y.a,VTextField:k.a,VToolbar:O.a})},526:function(e,t,n){"use strict";n(524)},527:function(e,t,n){var l=n(30)(!1);l.push([e.i,".desc-line[data-v-e6f966dc]{display:flex;align-items:center;justify-content:center}.desc-line a[data-v-e6f966dc]{margin-left:10px}",""]),e.exports=l},536:function(e,t,n){"use strict";n.r(t);n(6),n(42),n(45),n(35),n(73),n(18);var l=n(2),o=n(87),r=n.n(o),c=n(540),d=n.n(c),f=n(525),v=n(111),m=n(225),h=r.a.getLogger("ChartCard"),x=["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5","#8bd3c7"],_=["10s","30s","1m","10m","30m","1h"],C=Object(l.d)({components:{VueApexCharts:function(){return n.e(10).then(n.t.bind(null,590,7))},ChartConfigDialog:f.default},setup:function(){var e=Object(l.j)({multiplier:1,lineWidth:2}),t=Object(l.k)(!1),n=Object(l.k)("10m"),o=Object(l.k)(!1),r=Object(l.k)("DCV"),c=Object(l.k)(!0),f=Object(l.a)((function(){var e;return null===(e=v.bdmDevice.reported)||void 0===e?void 0:e.funcName}));Object(l.p)(f,(function(e){c.value&&e&&(r.value=e)}));var h=[],C=Object(l.a)((function(){var t,l=r.value,c=Date.now()-d()(n.value),f=[{name:"".concat(l," (").concat(void 0===(null===(t=v.bdmDevice.reported)||void 0===t?void 0:t.readValue)?"-":v.bdmDevice.reported.readValue*e.multiplier,")"),color:x[m.a.indexOf(l)%x.length],data:v.bdmDevice.historiesOf(l).filter((function(e){return e.timestamp>=c})).map((function(t){return{x:t.timestamp,y:t.readValue*e.multiplier}}))}];return Object.assign(f[0],{_isVue:!0}),o.value?h:(h=f,f)})),y=Object(l.k)(null),k={chart:{id:"history",type:"line",zoom:{type:"x",enabled:!0,autoScaleYaxis:!1},toolbar:{show:o.value,autoSelected:"zoom"},animations:{enabled:!1,easing:"linear",dynamicAnimation:{speed:1e3}}},markers:{size:0},legend:{show:!0,showForSingleSeries:!0,floating:!0,position:"top"},yaxis:{},xaxis:{type:"datetime",labels:{datetimeUTC:!1}},noData:{text:"No data"},tooltip:{x:{format:"yyyy-MM-ddTHH:mm:ss.fff"}},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}},stroke:{width:2}};return Object(l.p)(o,(function(){var e;k.chart.toolbar.show=o.value,null===(e=y.value)||void 0===e||e.updateOptions(k)})),Object(l.p)(e,(function(e){var t;k.stroke.width=e.lineWidth,null===(t=y.value)||void 0===t||t.updateOptions(k)})),{chartConfig:e,configDialog:t,selectedPeriod:n,updatePaused:o,selectedSeriesName:r,autoSwitchEnabled:c,chartOptions:k,periodOptions:_,series:C,BDM_FUNC_NAMES:m.a,chart:y,bdmDevice:v.bdmDevice}},methods:{onConfigApply:function(e){h.debug("onConfigApply",e),Object.assign(this.chartConfig,e)}}}),y=n(80),k=n(88),O=n.n(k),V=n(522),j=n(228),w=n(181),D=n(515),S=n(504),A=n(591),P=n(518),N=n(593),E=n(69),component=Object(y.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{ref:"main",staticClass:"main-card rounded-card",attrs:{tile:"",flat:e.$vuetify.breakpoint.xs}},[n("v-toolbar",{staticClass:"headline",attrs:{dense:"",flat:"",color:"primary lighten-1",dark:""}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-chart-timeline-variant")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-col",{attrs:{cols:"2"}},[n("v-select",{attrs:{items:e.periodOptions,"hide-details":"",flat:"",dense:""},model:{value:e.selectedPeriod,callback:function(t){e.selectedPeriod=t},expression:"selectedPeriod"}})],1),e._v(" "),n("v-switch",{staticClass:"mr-3",attrs:{label:"Pause",color:"accent","hide-details":"",flat:"",dense:""},model:{value:e.updatePaused,callback:function(t){e.updatePaused=t},expression:"updatePaused"}}),e._v(" "),n("v-col",{attrs:{cols:"2"}},[n("v-select",{attrs:{items:e.BDM_FUNC_NAMES,"hide-details":"",flat:"",dense:""},model:{value:e.selectedSeriesName,callback:function(t){e.selectedSeriesName=t},expression:"selectedSeriesName"}})],1),e._v(" "),n("v-switch",{staticClass:"mr-3",attrs:{label:"Auto switch",color:"accent","hide-details":"",flat:"",dense:""},model:{value:e.autoSwitchEnabled,callback:function(t){e.autoSwitchEnabled=t},expression:"autoSwitchEnabled"}}),e._v(" "),n("v-btn",{attrs:{icon:"",color:"red"},on:{click:e.bdmDevice.resetHistory}},[n("v-icon",[e._v("mdi-delete")])],1),e._v(" "),n("v-btn",{attrs:{icon:"",color:"white"},on:{click:function(t){e.configDialog=!0}}},[n("v-icon",[e._v("mdi-cog")])],1)],1),e._v(" "),n("v-card-text",[n("VueApexCharts",{ref:"chart",attrs:{options:e.chartOptions,series:e.series}})],1),e._v(" "),n("ChartConfigDialog",{attrs:{dialog:e.configDialog},on:{"update:dialog":function(t){e.configDialog=t},apply:e.onConfigApply}})],1)}),[],!1,null,"7601c595",null);t.default=component.exports;O()(component,{ChartConfigDialog:n(525).default}),O()(component,{VBtn:V.a,VCard:j.a,VCardText:w.b,VCol:D.a,VIcon:S.a,VSelect:A.a,VSpacer:P.a,VSwitch:N.a,VToolbar:E.a})}}]);